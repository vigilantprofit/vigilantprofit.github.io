<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ROI Calculator | Vigilant Profit Solutions</title>
  <link rel="icon" href="/logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap'); body { font-family: 'Inter', sans-serif; }</style>
</head>
<body class="bg-gray-50">
  <header class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-6 py-6 flex justify-between items-center">
      <a href="/" class="flex items-center space-x-4">
        <img src="/logo.png" alt="VPS" class="h-16 w-auto">
        <span class="text-xl font-bold">Vigilant Profit Solutions</span>
      </a>
      <a href="/" class="text-indigo-600 font-bold hover:underline">← Home</a>
    </div>
  </header>

  <section class="py-20 px-6">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-5xl font-bold text-center mb-8">ROI Calculator</h1>
      <p class="text-xl text-center text-gray-600 mb-12">See your payoff — with VPS AI boost</p>

      <div class="bg-white p-10 rounded-3xl shadow-xl">
        <div class="grid md:grid-cols-2 gap-10">
          <div>
            <input type="text" id="projectName" placeholder="Project Name (optional)" class="w-full p-4 border rounded-lg mb-4">
            <input type="number" id="cost" placeholder="Total Cost ($)*" required class="w-full p-4 border rounded-lg mb-4">
            <input type="number" id="revenue" placeholder="Annual Revenue/Savings ($)*" required class="w-full p-4 border rounded-lg mb-4">
            <input type="number" id="teamSize" placeholder="Team Size" class="w-full p-4 border rounded-lg mb-4">
            <input type="number" id="years" value="3" class="w-full p-4 border rounded-lg mb-6">
            <button onclick="calculateAndGeneratePDF()" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-lg">
              Generate PDF Report
            </button>
          </div>
          <div id="results" class="hidden text-center">
            <div class="text-6xl font-black text-indigo-600" id="roiPercent">0%</div>
            <p class="text-xl mt-2">ROI</p>
            <p class="text-4xl font-bold text-green-600 mt-6" id="payback">0</p>
            <p class="text-lg">Month Payback</p>
            <p class="mt-6 text-gray-700" id="insights"></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
  function calculateAndGeneratePDF() {
    const data = calculateROI(false);
    if (!data) return;
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    doc.addImage('/logo.png', 'PNG', 15, 10, 40, 40);
    doc.setFontSize(20); doc.text('Vigilant Profit Solutions', 65, 25);
    doc.setFontSize(18); doc.setTextColor(79,70,229); doc.text('ROI Report: ' + data.projectName, 15, 60);
    doc.setFontSize(14); doc.setTextColor(0); doc.text(`Cost: $${data.cost.toLocaleString()} • Revenue: $${data.revenue.toLocaleString()}`, 15, 80);
    doc.setFontSize(30); doc.setTextColor(34,197,94); doc.text(data.roi + '% ROI', 15, 120);
    doc.setFontSize(14); doc.text(`Payback: ${data.payback} months • +${data.aiBoost}% with VPS`, 15, 140);
    doc.setFontSize(12); doc.text('Contact: vigilantprofit.com/#contact', 15, 220);
    doc.save(`${data.projectName.replace(/[^a-z0-9]/gi, '_')}_ROI.pdf`);
  }
  function calculateROI(show = true) {
    const cost = parseFloat(document.getElementById('cost').value) || 0;
    const revenue = parseFloat(document.getElementById('revenue').value) || 0;
    const years = parseFloat(document.getElementById('years').value) || 1;
    const projectName = document.getElementById('projectName').value || "Project";
    if (cost <= 0 || revenue <= 0) { if(show) alert("Enter cost & revenue"); return null; }
    const net = (revenue * years) - cost;
    const roi = (net / cost) * 100;
    const payback = Math.ceil(cost / (revenue / 12));
    const aiBoost = Math.round(roi * 0.25);
    const data = { projectName, cost, revenue, years, roi: roi.toFixed(0), payback, aiBoost };
    if (show) {
      document.getElementById('roiPercent').textContent = data.roi + '%';
      document.getElementById('payback').textContent = data.payback;
      document.getElementById('insights').textContent = `+${data.aiBoost}% ROI uplift with VPS Aura + partners`;
      document.getElementById('results').classList.remove('hidden');
    }
    return data;
  }
  </script>
</body>
</html>
